/* CSS Custom Properties for Theme System */
/* Requirements: 6.2, 6.3, 7.2, 7.3, 7.4 */

:root {
  /* Default theme colors (Drizaikn - Indigo/Purple) */
  --color-primary: #4f46e5;
  --color-accent: #a855f7;
  --color-background: #FFFFFF;
  --color-text: #1e1b4b;
  --color-text-secondary: #64748B;
  --color-border: #E2E8F0;
  --color-card-bg: #FFFFFF;
  
  /* Transition for smooth theme changes */
  --theme-transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Base styles using CSS variables */
body {
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
  transition: var(--theme-transition);
}

/* Dark mode base styles */
.dark {
  color-scheme: dark;
}

.dark body,
.dark {
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
}

/* Dark mode - Main container backgrounds */
.dark .min-h-screen {
  background: linear-gradient(to bottom right, var(--color-background), var(--color-card-bg)) !important;
}

.dark .bg-gradient-to-br {
  background: linear-gradient(to bottom right, var(--color-background), var(--color-card-bg)) !important;
}

/* Glass panel styles for both modes */
.glass-panel {
  background-color: var(--color-card-bg) !important;
  border: 1px solid var(--color-border) !important;
  transition: var(--theme-transition);
}

.dark .glass-panel {
  background-color: var(--color-card-bg) !important;
  border-color: var(--color-border) !important;
}

/* Primary color utilities */
.text-theme-primary {
  color: var(--color-primary) !important;
}

.bg-theme-primary {
  background-color: var(--color-primary) !important;
}

.border-theme-primary {
  border-color: var(--color-primary) !important;
}

/* Accent color utilities */
.text-theme-accent {
  color: var(--color-accent) !important;
}

.bg-theme-accent {
  background-color: var(--color-accent) !important;
}

.border-theme-accent {
  border-color: var(--color-accent) !important;
}

/* Background utilities */
.bg-theme-background {
  background-color: var(--color-background) !important;
}

.bg-theme-card {
  background-color: var(--color-card-bg) !important;
}

/* Text utilities */
.text-theme-text {
  color: var(--color-text) !important;
}

.text-theme-secondary {
  color: var(--color-text-secondary) !important;
}

/* Border utilities */
.border-theme-border {
  border-color: var(--color-border) !important;
}

/* Dark mode specific overrides for common elements */
.dark .bg-white {
  background-color: var(--color-card-bg) !important;
}

.dark .bg-slate-50,
.dark .bg-slate-100 {
  background-color: var(--color-background) !important;
}

.dark .text-slate-600,
.dark .text-slate-700,
.dark .text-slate-800,
.dark .text-slate-900 {
  color: var(--color-text) !important;
}

.dark .text-slate-400,
.dark .text-slate-500 {
  color: var(--color-text-secondary) !important;
}

.dark .border-slate-200,
.dark .border-slate-300 {
  border-color: var(--color-border) !important;
}

/* Dark mode - Indigo text should use primary color */
.dark .text-indigo-600,
.dark .text-indigo-900 {
  color: var(--color-primary) !important;
}

/* Dark mode - Table styles */
.dark table {
  background-color: var(--color-card-bg) !important;
}

.dark thead {
  background-color: var(--color-background) !important;
}

.dark th {
  color: var(--color-text) !important;
  background-color: var(--color-background) !important;
}

.dark td {
  color: var(--color-text) !important;
  border-color: var(--color-border) !important;
}

.dark tr {
  border-color: var(--color-border) !important;
}

.dark tbody tr:hover {
  background-color: var(--color-border) !important;
}

/* Dark mode - Status badges */
.dark .bg-green-100 {
  background-color: rgba(34, 197, 94, 0.2) !important;
}

.dark .bg-red-100 {
  background-color: rgba(239, 68, 68, 0.2) !important;
}

.dark .bg-yellow-100 {
  background-color: rgba(234, 179, 8, 0.2) !important;
}

.dark .bg-blue-100 {
  background-color: rgba(59, 130, 246, 0.2) !important;
}

.dark .bg-orange-100 {
  background-color: rgba(249, 115, 22, 0.2) !important;
}

.dark .bg-purple-100 {
  background-color: rgba(168, 85, 247, 0.2) !important;
}

/* Input fields in dark mode */
.dark input,
.dark select,
.dark textarea {
  background-color: var(--color-card-bg) !important;
  color: var(--color-text) !important;
  border-color: var(--color-border) !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: var(--color-text-secondary) !important;
}

/* Button styles in dark mode */
.dark .btn-primary {
  background-color: var(--color-primary) !important;
  color: white !important;
}

.dark .btn-accent {
  background-color: var(--color-accent) !important;
  color: white !important;
}

/* Card hover effects */
.dark .hover\:bg-slate-50:hover {
  background-color: var(--color-border) !important;
}

/* Modal and overlay styles */
.dark .modal-overlay {
  background-color: rgba(0, 0, 0, 0.7) !important;
}

.dark .modal-content {
  background-color: var(--color-card-bg) !important;
  border-color: var(--color-border) !important;
}

/* Dark mode - Navbar */
.dark nav,
.dark .navbar {
  background-color: var(--color-card-bg) !important;
  border-color: var(--color-border) !important;
}

/* Dark mode - Book cards */
.dark .book-card {
  background-color: var(--color-card-bg) !important;
  border-color: var(--color-border) !important;
}

/* Dark mode - Category badges */
.dark .category-badge {
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
}

/* Dark mode - Links */
.dark a {
  color: var(--color-primary) !important;
}

.dark a:hover {
  color: var(--color-accent) !important;
}

/* Scrollbar styles for dark mode */
.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: var(--color-background);
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-secondary);
}

/* Focus ring styles */
.dark *:focus {
  outline-color: var(--color-primary);
}

.dark .focus\:ring-indigo-500\/30:focus {
  --tw-ring-color: var(--color-primary);
  --tw-ring-opacity: 0.3;
}

/* Animation for theme transitions */
@media (prefers-reduced-motion: no-preference) {
  * {
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  }
}


/* Additional Dark Mode Styles for Better Visibility */

/* Dark mode - Fix text colors that might be hard to read */
.dark .text-indigo-600,
.dark .text-indigo-900 {
  color: var(--color-primary) !important;
}

.dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
  color: var(--color-text) !important;
}

.dark p {
  color: var(--color-text) !important;
}

/* Dark mode - Fix specific component backgrounds */
.dark .from-slate-50,
.dark .via-blue-50,
.dark .to-indigo-100 {
  --tw-gradient-from: var(--color-background) !important;
  --tw-gradient-via: var(--color-background) !important;
  --tw-gradient-to: var(--color-card-bg) !important;
}

/* Dark mode - Dropdown and select menus */
.dark select option {
  background-color: var(--color-card-bg) !important;
  color: var(--color-text) !important;
}

/* Dark mode - Focus states */
.dark *:focus {
  outline-color: var(--color-primary) !important;
}

.dark .focus\:ring-indigo-500\/20:focus,
.dark .focus\:ring-indigo-500\/30:focus {
  --tw-ring-color: var(--color-primary) !important;
}

/* Dark mode - Hover states */
.dark .hover\:bg-blue-50:hover {
  background-color: rgba(59, 130, 246, 0.1) !important;
}

.dark .hover\:bg-red-50:hover {
  background-color: rgba(239, 68, 68, 0.1) !important;
}

/* Dark mode - Book card specific */
.dark .book-cover {
  border-color: var(--color-border) !important;
}

/* Dark mode - Preferences toolbar */
.dark .bg-white\/70 {
  background-color: var(--color-card-bg) !important;
}

/* Dark mode - Quick filter chips */
.dark .bg-white {
  background-color: var(--color-card-bg) !important;
}

/* Dark mode - User info card */
.dark .border-indigo-600 {
  border-color: var(--color-primary) !important;
}

/* Dark mode - Category badges in table */
.dark span.bg-slate-100 {
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
}

/* Dark mode - Ensure all text is readable */
.dark * {
  color: inherit;
}

/* Dark mode - Fix any remaining white backgrounds */
.dark [class*="bg-white"] {
  background-color: var(--color-card-bg) !important;
}

/* Dark mode - Fix gradient backgrounds */
.dark [class*="bg-gradient"] {
  background: linear-gradient(to bottom right, var(--color-background), var(--color-card-bg)) !important;
}

/* Dark mode - Ensure proper contrast for status badges */
.dark .text-green-700 {
  color: #4ade80 !important;
}

.dark .text-red-700 {
  color: #f87171 !important;
}

.dark .text-yellow-700 {
  color: #fbbf24 !important;
}

.dark .text-blue-700 {
  color: #60a5fa !important;
}

.dark .text-orange-700 {
  color: #fb923c !important;
}

.dark .text-purple-700 {
  color: #a78bfa !important;
}

/* Scrollbar hide utility for horizontal scrollable tabs (Requirement 9.1) */
.scrollbar-hide {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}

# =============================================================================
# PUEA Digital Library - Environment Configuration Example
# =============================================================================
# Copy this file to .env.local and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Configuration
# Get these from your Supabase project: Settings > API
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-service-role-key

# Frontend Supabase Configuration (for direct browser uploads up to 50MB)
# IMPORTANT: Use the "anon" public key from Supabase Dashboard > Settings > API
# The anon key is safe to expose in the browser
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key

# -----------------------------------------------------------------------------
# AI Configuration
# Get from: https://openrouter.ai/keys
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY=your-openrouter-api-key

# -----------------------------------------------------------------------------
# Admin Configuration
# Used to authenticate admin health API requests
# -----------------------------------------------------------------------------
ADMIN_HEALTH_SECRET=your-admin-secret-key

# -----------------------------------------------------------------------------
# Ingestion Filter Configuration
# Controls which books are ingested from Internet Archive
# Requirements: 5.1.6
# -----------------------------------------------------------------------------

# Genre Filtering
# Comma-separated list of allowed genres (case-insensitive)
# Valid genres: Philosophy, Religion, Theology, Sacred Texts, History, Biography,
#               Science, Mathematics, Medicine, Law, Politics, Economics, Literature,
#               Poetry, Drama, Mythology, Military & Strategy, Education, Linguistics,
#               Ethics, Anthropology, Sociology, Psychology, Geography, Astronomy,
#               Alchemy & Esoterica, Art & Architecture
# Leave empty to allow all genres
INGEST_ALLOWED_GENRES=Philosophy,History,Science,Literature

# Enable genre filtering (true/false)
# When true and INGEST_ALLOWED_GENRES is set, only books matching those genres are ingested
# When true and INGEST_ALLOWED_GENRES is empty, all genres are allowed
ENABLE_GENRE_FILTER=true

# Author Filtering
# Comma-separated list of allowed authors (case-insensitive, partial match supported)
# Example: "Sharma" will match "Robin Sharma", "Anita Sharma", etc.
# Leave empty to allow all authors
INGEST_ALLOWED_AUTHORS=

# Enable author filtering (true/false)
# When true and INGEST_ALLOWED_AUTHORS is set, only books by those authors are ingested
# When true and INGEST_ALLOWED_AUTHORS is empty, all authors are allowed
ENABLE_AUTHOR_FILTER=false

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Server Port (optional, for local development)
PORT=5000

# API URL - For local development
# Comment out this line when deploying to Vercel
VITE_API_URL=http://localhost:5000/api

# -----------------------------------------------------------------------------
# Filter Configuration Notes
# -----------------------------------------------------------------------------
# 
# FILTER BEHAVIOR:
# - Empty filter list + filter enabled = Allow all (no filtering)
# - Filter disabled = Allow all regardless of filter list
# - Both filters enabled = Book must pass BOTH genre AND author filters
# - Filters are applied BEFORE PDF download to save bandwidth
#
# EXAMPLES:
#
# 1. Fiction-only library:
#    INGEST_ALLOWED_GENRES=Literature,Poetry,Drama
#    ENABLE_GENRE_FILTER=true
#
# 2. Specific authors only:
#    INGEST_ALLOWED_AUTHORS=Robin Sharma,Paulo Coelho,Dale Carnegie
#    ENABLE_AUTHOR_FILTER=true
#
# 3. Combined filtering (Philosophy books by specific authors):
#    INGEST_ALLOWED_GENRES=Philosophy,Ethics
#    ENABLE_GENRE_FILTER=true
#    INGEST_ALLOWED_AUTHORS=Plato,Aristotle,Kant
#    ENABLE_AUTHOR_FILTER=true
#
# 4. No filtering (ingest all books):
#    ENABLE_GENRE_FILTER=false
#    ENABLE_AUTHOR_FILTER=false
#
# -----------------------------------------------------------------------------
